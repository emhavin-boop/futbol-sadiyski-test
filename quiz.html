<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Футболен Съдийски Тест 2026</title>
    
    <!-- PWA / manifest настройки -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0A2A5E">
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: linear-gradient(to bottom, #f0f4f8, #d9e2ec);
            color: #1c1c1e;
            margin: 0;
            padding: 12px;
            min-height: 100vh;
        }
        .container {
            max-width: 920px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.08);
        }
        h1, h2 { text-align: center; color: #0A2A5E; }
        .button {
            display: block;
            width: 100%;
            max-width: 420px;
            margin: 14px auto;
            padding: 18px;
            font-size: 19px;
            font-weight: 600;
            background: #0A2A5E;
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
        }
        .button:hover { background: #08204a; }
        #timer { text-align: center; font-size: 18px; color: #d32f2f; margin: 16px 0; font-weight: bold; }
        .question { font-size: 17px; margin: 20px 0; line-height: 1.5; }
        .option {
            background: #f5f5f7;
            border: 1px solid #d2d2d7;
            border-radius: 10px;
            padding: 16px;
            margin: 10px 0;
            font-size: 16px;
            cursor: pointer;
        }
        .option.selected-correct   { background: #4caf50; color: white; }
        .option.selected-wrong     { background: #f44336; color: white; }
        #score { font-size: 24px; text-align: center; color: #0A2A5E; margin: 24px 0; }
        @media (max-width: 600px) {
            .container { padding: 16px; }
            .button { font-size: 18px; padding: 16px; }
        }
    </style>
</head>
<body>

<div class="container" id="start">
    <h1>Добре дошли!</h1>
    <p style="text-align:center;">Тест по футболни правила и съдийство<br>20 случайни въпроса без повторение</p>
    <button class="button" onclick="startTest(0)">Без лимит</button>
    <button class="button" onclick="startTest(15)">15 минути</button>
    <button class="button" onclick="startTest(20)">20 минути</button>
</div>

<div class="container" id="quiz" style="display:none">
    <div id="timer"></div>
    <div id="qnum"></div>
    <div id="qtext" class="question"></div>
    <div id="opts"></div>
    <button class="button" id="next" style="display:none" onclick="nextQ()">Следващ</button>
</div>

<div class="container" id="result" style="display:none">
    <h2>Резултат</h2>
    <div id="score"></div>
    <button class="button" onclick="showReview()">Преглед</button>
    <button class="button" onclick="restart()">Нов тест</button>
</div>

<div class="container" id="review" style="display:none">
    <h2>Преглед на отговорите</h2>
    <div id="reviewContent"></div>
    <button class="button" onclick="back()">Назад</button>
</div>

<script>
const questions = [
    { q: "Защитник изпълнява ПСУ и подава топката назад към своя вратар, намиращ се в своето НП. Вратарят се опитва да ритне топката, но се подхлъзва и не успява да я докосне, след което топката влиза във вратата му. Решение?", opts: ["Гол - НК", "Съдийска топка - НК", "Ъглов удар - НК", "Удар от вратата - НК", "ПСУ се повтаря - ЖК"], ans: 1 },
    { q: "По време на игра вратар удря с юмрук съотборник в своето НП, недоволен от неговото представяне до момента. Какво трябва да отсъди съдията?", opts: ["НУ - ЧК", "НСУ - ЧК", "НУ - ЖК", "Съдийска топка - ЧК", "НУ - НК"], ans: 1 },
    { q: "По време на игра, от своето НП, вратар наплюва свой съотборник, стоящ пред НП, недоволен от неговото представяне до момента. Какво трябва да отсъди съдията?", opts: ["НУ - НК", "ПСУ - ЧК", "НСУ - ЖК", "ПСУ - ЖК", "Съдийска топка - НК"], ans: 1 },
    { q: "По време на игра вратар удря с юмрук свой съотборник, напуснал игралното поле секунди преди това. Какво трябва да отсъди съдията?", opts: ["НУ - ЧК", "НСУ - ЧК", "НСУ - ЖК", "ПСУ - ЖК", "Съдийска топка - ЧК"], ans: 1 },
    { q: "Докато топката е в игра, състезател на отбор А удря с юмрук навлязъл на игралното поле фен на отбор В, като ситуацията се развива в НП на отбор А. Какво трябва да бъде решението?", opts: ["НУ - ЧК", "НСУ - ЧК", "Съдийска топка - ЖК", "ПСУ - ЖК", "Съдийска топка - ЧК"], ans: 4 },
    { q: "Докато топката е в игра, състезател удря с юмрук навлязъл на игралното поле фен на неговия отбор, като ситуацията се развива в центъра на терена. Какво трябва да бъде решението?", opts: ["НУ - ЧК", "НСУ - НК", "НСУ - ЖК", "ПСУ - ЧК", "Съдийска топка - ЧК"], ans: 4 },
    { q: "При спряна игра съдията инструктира №8 да напусне игралното поле, за да свали пръстена си. №8 излиза, след което се връща по време на игра на терена без разрешение на съдията, и отиграва топката... Как трябва да се процедира?", opts: ["НСУ - ЖК на №8", "НСУ - 2 ЖК и ЧК на №8", "ПСУ - 2 ЖК и ЧК на №8", "Съдийска топка - НК", "ПСУ - ЧК на №8"], ans: 2 },
    { q: "При изпълнение на НУ вратарят скъсява дистанцията, напускайки линията на вратата, но топката се удря в гредата и след това изпълнителят я вкарва директно във вратата. Какво трябва да реши съдията?", opts: ["Повторение на НУ - ЖК", "НСУ - НК", "ПСУ - НК", "Гол - НК", "Съдийска топка - ЖК"], ans: 1 },
    { q: "При бързо изпълнение на удар от вратата, преди топката да е напуснала очертанията на наказателното поле, играч на противниковия отбор се намира вътре в наказателното поле. Какви действия трябва да предприеме съдийският екип?", opts: ["Повторение на удара - ЖК", "НСУ - ЖК", "НК - Играта продължава", "Съдийска топка - НК", "Устно предупреждение - НК"], ans: 2 },
    { q: "Състезател изпълнява странично хвърляне правилно, топката удря съдията и напуска терена през страничната линия, без да е докосната от друг състезател. Решение на съдията?", opts: ["Повторение на страничното хвърляне - НК", "НСУ - ЖК", "Странично хвърляне за противниковия отбор - НК", "Повторение на страничното хвърляне - ЧК", "Съд топка - ЖК"], ans: 2 },
    { q: "Състезател изпълнява правилно странично хвърляне. Той хвърля топката директно към неговия вратар. Вратарят докосва топката с ръка, опитвайки се да я спре, но топката влиза във вратата. Какво решение трябва да вземе съдията?", opts: ["Ъглов удар - НК", "НСУ - ЖК", "Гол - ЖК", "Гол - НК", "ПСУ - ЧК"], ans: 3 },
    { q: "Състезател, различен от вратаря, умишлено играе с топката с ръка в собственото си наказателно поле, опитвайки се да предотврати очевидна възможност за отбелязването на гол. Какво трябва да направи съдията, ако опитът на състезателя да спре топката е несполучлив и голът е отбелязан редовно?", opts: ["Гол - ЖК", "Гол - НК", "НУ - ЖК", "НУ - ЧК", "Устно предупреждение - НК"], ans: 0 },
    { q: "Играч, различен от вратаря, в своето собствено наказателно поле, се опитва да докосне топката с ръка, за да предотврати тя да отиде при противников състезател, пред който се открива очевидна голова възможност. Какво трябва да направи съдията, ако това е неуспешно?", opts: ["НУ - ЖК", "НСУ - НК", "Играта продължава - НК", "Играта продължава - ЧК", "Устно предупреждение - НК"], ans: 2 },
    { q: "Състезател, различен от вратаря, изпълнява правилно странично хвърляне и подава топката директно на противник. Преди тя да бъде докосната от противника извън НП, изпълнителят на страничното хвърляне преднамерено докосва топката с ръка, за да предотврати очевидна голова възможност. Решение на съдията?", opts: ["НСУ - НК", "НСУ - ЖК", "ПСУ - ЖК", "ПСУ - ЧК", "Съдийска топка - НК"], ans: 3 },
    { q: "Състезател, различен от вратаря, изпълнява правилно странично хвърляне и подава топката директно на противник. Преди тя да бъде докосната от противника извън НП, изпълнителят на страничното хвърляне преднамерено докосва топката с ръка, за да предотврати очевидна голова възможност. Решение на съдията?", opts: ["НСУ - НК", "НСУ - ЖК", "ПСУ - ЖК", "ПСУ - ЧК", "Съдийска топка - НК"], ans: 3 },
    { q: "Докато топката е в игра във владение на отбор А, резервен състезател на отбор А влиза на игралното поле без разрешение на съдията и безразсъдно блъска противник на 1 метър от страничната линия. Какво решение трябва да вземе съдията?", opts: ["НСУ - 2 ЖК и ЧК на резервата", "Съдийска топка - 2 ЖК и ЧК на резервата", "ПСУ - 2 ЖК и ЧК на резервата", "ПСУ - ЧК на резервата", "НСУ - ЧК на резервата"], ans: 2 },
    { q: "Резервен състезател влиза на игралното поле без разрешение на съдията и веднага спира обещаваща атака на противниковия отбор, докосвайки топката с ръката си на около 2 метра от страничната линия. Какво решение трябва да вземе съдията?", opts: ["НСУ - 2 ЖК и ЧК на резервата", "Съдийска топка - 2 ЖК и ЧК на резервата", "ПСУ - 2 ЖК и ЧК на резервата", "НСУ - ЖК на резерата", "НСУ - ЧК на резервата"], ans: 2 },
    { q: "Състезател моли да напусне игралното поле и получава разрешение от съдията. Докато напуска, топката идва до него и той вкарва гол. Какво решение трябва да се вземе?", opts: ["Гол - НК", "НСУ - 2 ЖК", "ПСУ - ЖК", "НСУ - ЖК", "Гол - Устно предупреждение"], ans: 3 },
    { q: "При изпълнение на НУ в редовното време изпълнителя се подхлъзва, рита топката с единия крак, която след мигновено докосване в другия му крак влиза във вратата. Какво решение трябва да се вземе?", opts: ["Гол - НК", "НСУ - НК", "Повторение на НУ - НК", "НСУ - ЖК", "Повторение на НУ - ЖК"], ans: 2 },
    { q: "При изпълнение на НУ в редовното време изпълнителя, подхлъзвайки се, рита топката с единия крак, тя миг след това рикошира в другия му крак и бива избита в ъглов удар от намиращия се в коректна позиция вратар. Какво решение трябва да се вземе?", opts: ["Ъглов удар - НК", "НСУ - НК", "Повторение на НУ - ЖК", "НСУ - ЖК", "Устно предупреждение - НК"], ans: 1 },
    { q: "При изпълнение на НУ, отсъден още в първата минута на двубоя, изпълнителя, подхлъзвайки се, рита топката с единия крак, тя миг след това рикошира в другия му крак и бива избита в ъглов удар от излезлия преди удара 1 метър напред вратар. Какво решение трябва да се вземе?", opts: ["Ъглов удар - НК", "НСУ - ЖК", "Повторение на НУ - ЖК", "НСУ - НК", "Устно предупреждение - НК"], ans: 3 },
    { q: "АС забелязва проява на насилие на състезател, намиращ се в централната зона на терена, и сигнализира. Съдията не виждасигнала и отборът на нарушителя отбелязва гол. В този момент съдията вижда сигнала на АС. Какво решение трябва да се вземе?", opts: ["Гол - ЧК", "Съдийска топка - НК", "НСУ - ЖК", "ПСУ - ЖК", "ПСУ - ЧК"], ans: 4 },
    { q: "Състезател, намиращ се временно извън игралното поле, се завръща на игралното поле близо до страничната линия докато  топката е в игра без да е получил нужното разрешение за това от съдията и, изритвайки топката (без да е извършил нарушение), спира обещаваща атака на противниковия отбор. Решение?", opts: ["НСУ - ЖК", "Съдийска топка - ЖК", "ПСУ - 2 ЖК и ЧК за състезателя", "ПСУ - ЧК", "Съдийска топка - ЧК"], ans: 2 },
    { q: "Защитник с №2 (Отбор А) задържа за фланелката нападател (Отбор Б) извън НП с което спира обещаваща атака на отбор Б. Нападателя възстановява контрола на топката, продължава атаката и съдията прилага „авантаж“. Веднага след това друг защитник с №3 (Отбор А) в опит да играе с топката извършва невнимателно нарушение, осъществявайки контакт с нападателя в НП, предотвратявайки очевидна голова възможност на отбор Б. Решение?", opts: ["НУ - ЖК на №3", "Съдийска топка - ЧК", "Устно предупреждение - НК", "ПСУ - ЧК", "Съдийска топка - ЖК"], ans: 0 },
    { q: "Докато топката е в игра треньор (Отбор А) навлиза в техническата зона на противниковия отбор и се опитва да удари треньора на противника (Отбор Б). Съдията спира играта, за да вземе мерки. Решение?", opts: ["НСУ - ЧК", "Съдийска топка - ЧК", "Устно предупреждение - НК", "ПСУ - ЧК", "Съдийска топка - ЖК"], ans: 1 },
    { q: "Съдията пуска съдийска топка на вратаря (Отбор А) в неговото НП. След като топката докосва земята, вратарят не докосва топката и с нея заиграва негов съотборник, който се е намирал на 4 метра докато топката влезе в игра. Решение?", opts: ["НСУ - ЖК", "Играта продължава - НК", "Повторение на съдийска топка - НК", "Повторение на съдийска топка - ЖК", "НСУ - ЖК"], ans: 1 },
    { q: "Вратаря по време на игра държи в ръцете си топката и напуска НП с топката в ръце преди да се освободи от нея, където е атакуван от противник. Решение?", opts: ["НСУ - ЖК", "Съдийска топка - НК", "ПСУ - ЖК", "ПСУ - НК", "НСУ - НК"], ans: 3 },
    { q: "Съдията отсъжда странично хвърляне за отбор А. Треньорът на противниковия отбор Б държи топката, забавяйки по този начин подновяването на играта. Състезател на отбор А, който е вече извън игралното поле за да изпълни страничното хвърляне, грабва топката от ръцете на противниковия треньор и го блъска, използвайки прекомерна сила. Решение?", opts: ["Странично хвърляне - ЖК на двамата", "Странично хвърляне - ЧК на двамата", "Странично хвърляне - ЖК на треньора ЧК на играча", "ПСУ - ЧК на двамата", "Устно предупреждение на двамата - НК"], ans: 1 },
    { q: "Резервен състезател, загряващ извън игралното поле, вижда че топката лети към вратата на неговия отбор. Тогава той влиза на игралното поле, изритва топката точно преди влизането и във вратата и предотвратява отбелязването на гол. Решение?", opts: ["НСУ - ЖК и ЧК на резервата", "ПСУ - ЖК и ЧК на резервата", "СНУ - 2 ЖК и ЧК на резервата", "НУ - ЧК на резервата", "НУ - ЖК на резервата"], ans: 3 },
    { q: "Състезател, извършил безразсъдно нарушение през първото полувреме, е санкциониран с ЖК. На почивката между полувремената е сменен. През второто полувреме същият състезател напуска техническата зона и се приближава към асистент-съдията, оспорвайки негово решение вербално докато топката е в игра. Решение?", opts: ["НСУ - Втори ЖК и ЧК на резервата", "Съдийска топка - Втори ЖК и ЧК на резервата", "ПСУ - Втори ЖК и ЧК на резервата", "НСУ - ЖК", "ПСУ - ЧК"], ans: 0 },
    { q: "Вратар скача и лови топката с ръце във вратарското си поле. Падайки, вратарят случайно се блъска в противников играч, който не го атакува. При сблъсъка вратарят изпуска топката, която отива в противников играч, който отбелязва гол. Решение?", opts: ["НСУ - НК", "Съдйска топка - НК", "ПСУ - НК", "Гол - НК", "НСУ - ЖК"], ans: 3 },
    { q: "Атакуващ състезател умишлено и скрито докосва топката с ръка за да заблуди съдията и организира обещаваща атака, напредвайки към противниковата половина от игралното поле. Решение?", opts: ["НСУ - ЖК", "Съдийска топка - НК", "Устно предупреждение - НК", "ПСУ - ЖК", "ПСУ - ЧК"], ans: 3 },
    { q: "Състезател изпълнява странично хвърляне като хвърля топката към неговия вратар (негов съотборник). Вратарят прави явен, но неуспешен опит да изрита топката, и тя случайно докосва ръката му в неговото НП. Решение?", opts: ["НСУ - ЧК", "Съдийска топка - НК", "НСУ - ЖК", "Играта продължава - НК", "НСУ - НК"], ans: 3 },
    { q: "Отбор А изпълнява ъглов удар. Вратарят на отбор Б скача и хваща топката в неговото НП. След това, преди да се освободи от топката, вратарят умишлено блъска с ръце в главата противник от отбор А. Решение?", opts: ["НСУ - ЖК", "Съдийска топка - НК", "Играта продължава - НК", "НУ - ЧК на вратаря", "НУ - ЖК на вратаря"], ans: 3 },
    { q: "Нападател, получавайки дълъг пас, инцидентно докосва топката с ръка и веднага след това отбелязва гол. Ръката му, с която докосва топката, се намира в естествено положение и не увеличава обема на тялото му. Решение?", opts: ["НСУ - НК", "ПСУ - НК", "Съдийска топка - НК", "Гол - НК", "ПСУ - ЖК"], ans: 1 },
    { q: "Докато топката е в игра резервен играч (Отбор А) хвърля с прекомерна сила бутилка по противников играч (Отбор Б), който се намира на 2 метра от страничната линия. Противникът успява да се дръпне и избегне удара. Решение?", opts: ["НСУ - ЖК", "Съдийска топка - НК", "ПСУ - НК", "ПСУ - ЖК", "ПСУ - ЧК"], ans: 4 },
    { q: "Защитник (Отбор А), опитвайки се да играе с топката, фаулира безразсъдно извън НП противник (Отбор Б), който пада на земята. Съдията отсъжда ПСУ за отбор Б. След това защитникът умишлено изритва топката с прекомерна сила в тялото на падналия противник. Решение?", opts: ["НСУ - ЖК", "Съдийска топка - ЧК", "ПСУ - ЖК и ЧК на защитника", "ПСУ - ЖК", "ПСУ - ЧК"], ans: 4 },
    { q: "При изпълнение на удари за определяне на краен победител (УОКП) след продълженията състезател, завършил засилването си, умишлено спира преди да нанесе удара по топката, за да извлече предимство пред вратаря, след което вкарва топката във вратата. Същият състезател вече е получил ЖК за друго нарушение по време на продълженията. Решение?", opts: ["НУ се повтаря - НК", "Ударът се смята за пропуснат - ЖК и ЧК на изпълнителя на НУ", "Ударът се повтаря - ЖК", "Уснтно предупреждение - НК", "Ударът се смята за пропуснат - ЖК"], ans: 4 },
    { q: "Състезател е инструктиран от съдията да напусне игралното поле за да оправи екипировката си. Докато той се намира извън терена, неговият треньор започва да му се кара и го удря в лицето. Съдията спира играта за да вземе необходимите мерки. Решение?", opts: ["НСУ - ЧК на треньора", "Съдийска топка - ЧК на треньора", "Устно предупреждение - НК", "ПСУ - ЧК на треньора", "НСУ - ЖК на треньора"], ans: 1 },
    { q: "Състезател е предупреден (ЖК) през първото полувреме за неспортсменско поведение. През второто полувреме същият състезател извършва безразсъдно нарушение в централната зона на терена. Съдията спира играта и отсъжда ПСУ, но играчът нарушител изразява явно недоволство от решението на съдията. Какви дисциплинарни мерки трябва да предприеме съдията?", opts: ["ЧК", "Втори ЖК и ЧК - Третия ЖК не се отчита", "Втори ЖК и ЧК - Доклад за третия ЖК", "Устно предупреждение вместо трети ЖК", "Още два ЖК и тогава ЧК"], ans: 2 },
    { q: "Състезател (Отбор А) изпълнявайки странично хвърляне хвърля топката в противниковото НП. Топката се движи директно към вратата и състезател на противниковия отбор Б, който не е вратар, хваща топката с ръце във вратарското поле, предотвратявайки влизането и във вратата. Решение?", opts: ["НУ - ЧК", "Съдийска топка - НК", "НУ - НК", "НУ - ЖК", "НСУ - ЧК"], ans: 3 }
];

let currentQs = [];
let userAns = [];
let curIdx = 0;
let timeLeft = 0;
let timer = null;

function shuffle(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
        let j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
}

function startTest(mins) {
    timeLeft = mins * 60;
    currentQs = shuffle([...questions]).slice(0, 20);
    userAns = new Array(20).fill(-1);
    curIdx = 0;
    document.getElementById('start').style.display = 'none';
    document.getElementById('quiz').style.display = 'block';
    if (timeLeft > 0) {
        timer = setInterval(updateTimer, 1000);
        updateTimer();
    }
    showQ();
}

function updateTimer() {
    timeLeft--;
    let m = Math.floor(timeLeft / 60);
    let s = timeLeft % 60;
    document.getElementById('timer').innerText = `Оставащо време: ${m}:${s.toString().padStart(2,'0')}`;
    if (timeLeft <= 0) finishTest();
}

function showQ() {
    document.getElementById('qnum').innerText = `Въпрос ${curIdx + 1} от 20`;
    document.getElementById('qtext').innerText = currentQs[curIdx].q;
    let html = '';
    currentQs[curIdx].opts.forEach((opt, i) => {
        html += `<div class="option" onclick="pick(${i})">${opt}</div>`;
    });
    document.getElementById('opts').innerHTML = html;
    document.getElementById('next').style.display = 'none';
}

function pick(idx) {
    userAns[curIdx] = idx;
    let opts = document.querySelectorAll('.option');
    opts.forEach((el, i) => {
        el.onclick = null;
        if (i === currentQs[curIdx].ans) el.classList.add('selected-correct');
        if (i === idx && idx !== currentQs[curIdx].ans) el.classList.add('selected-wrong');
    });
    document.getElementById('next').style.display = 'block';
}

function nextQ() {
    curIdx++;
    if (curIdx < 20) showQ();
    else finishTest();
}

function finishTest() {
    if (timer) clearInterval(timer);
    document.getElementById('quiz').style.display = 'none';
    document.getElementById('result').style.display = 'block';
    let correct = 0;
    userAns.forEach((a, i) => { if (a === currentQs[i].ans) correct++; });
    let pct = ((correct / 20) * 100).toFixed(1);
    document.getElementById('score').innerHTML = `${correct} от 20 верни<br>Успеваемост: ${pct}%`;
}

function showReview() {
    document.getElementById('result').style.display = 'none';
    document.getElementById('review').style.display = 'block';
    let html = '';
    currentQs.forEach((q, i) => {
        let u = userAns[i];
        html += `<p><strong>Въпрос ${i+1}:</strong> ${q.q}</p>`;
        q.opts.forEach((o, j) => {
            let cls = (j === q.ans) ? 'selected-correct' : (j === u ? 'selected-wrong' : '');
            html += `<p class="${cls}">${o}</p>`;
        });
        html += '<hr>';
    });
    document.getElementById('reviewContent').innerHTML = html;
}

function back() {
    document.getElementById('review').style.display = 'none';
    document.getElementById('result').style.display = 'block';
}

function restart() {
    document.getElementById('review').style.display = 'none';
    document.getElementById('result').style.display = 'none';
    document.getElementById('start').style.display = 'block';
    document.getElementById('timer').innerText = '';
}
</script>
</body>
</html>


